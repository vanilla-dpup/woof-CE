download() {
    [ -f dwl-1002ea04fa45fba46755478044bc4828f8e19b20.tar.gz ] || curl --fail --retry 3 --max-time 60 -o dwl-1002ea04fa45fba46755478044bc4828f8e19b20.tar.gz https://codeberg.org/dwl/dwl/archive/1002ea04fa45fba46755478044bc4828f8e19b20.tar.gz
}

build() {
    tar -xzf dwl-1002ea04fa45fba46755478044bc4828f8e19b20.tar.gz
    cd dwl
    patch -p1 < ../patches.patch
    sed -e s/^#XWAYLAND/XWAYLAND/ -e s/^#XLIBS/XLIBS/ -i config.mk
    cp -f ../config.h .
    make install

    $CC $CFLAGS ../dwl-send.c $LDFLAGS -o /usr/local/bin/dwl-send
    $CC $CFLAGS ../dwl-status.c $LDFLAGS -o /usr/local/bin/dwl-status
}