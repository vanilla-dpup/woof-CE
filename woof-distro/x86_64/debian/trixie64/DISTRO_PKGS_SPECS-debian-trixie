#fallbacks when looking for pkgs (space-separated list)...
FALLBACKS_COMPAT_VERSIONS=''

#PKGS_SPECS_TABLE table format:
#will pkg be in puppy-build.
#    Generic name for pkg. Note: PET packages, if exist, use this name.
#            Comma-separated list of compatible-distro pkg(s). '-' prefix, exclude.
#            Must be exact name-only of pkg, else '*' on end is wildcard to search full name.
#            Empty field, then use PET pkg.
#                                    How the package will get split up in woof (optional redirection '>' operator).
#                                    Missing field, it goes into exe. Can also redirect >null, means dump it.
#yes|abiword|iceword,iceword-plugins|exe,dev,doc,nls

#example showing wildcard. finds all full pkg names with 'gcc-4.3*',
#but, exclude any 'gcc-4.3-doc*' matches...
# yes|gcc|gcc,gcc-4.3*,-gcc-4.3-doc*|exe,dev,doc,nls

#110817 Comments preferred to be on end of line, ex:
# yes|abiword|iceword,iceword-plugins|exe,dev,doc,nls| #this is a comment.

#110829 enhancements:
#                                                     Force pkg is from compat-distro repo, specifically 'salix' repo.
# yes|abiword|iceword,iceword-plugins|exe,dev,doc,nls|compat:salix
#Generic format:
# yes|genericpkgname|[pkgnames]|[splitup]|[pet:[repo]]
# yes|genericpkgname|[pkgnames]|[splitup]|[compat:[repo]]
#for a fuller explanation of the entries in PKGS_SPECS_TABLE, please see:
# http://bkhome.org/blog/?viewDetailed=02414

PKGS_SPECS_TABLE='
yes|alsa-lib|libasound2t64,libasound2-data,libasound2-dev,alsa-topology-conf,alsa-ucm-conf|exe,dev,doc,nls||deps:yes
yes|busybox|busybox|exe,dev,doc,nls||deps:yes
yes|bzip2|bzip2|exe,dev,doc,nls||deps:yes
yes|ca-certificates|ca-certificates|exe,dev,doc,nls||deps:yes
yes|connman|connman|exe,dev,doc,nls||deps:yes
yes|connman-gtk|connman-gtk|exe,dev,doc,nls||deps:yes
yes|cpio|cpio|exe,dev>null,doc,nls||deps:yes
yes|curl|curl|exe,dev,doc,nls||deps:yes
yes|dbus|dbus,libdbus-1-dev|exe,dev,doc,nls||deps:yes
yes|dbus-x11|dbus-x11|exe,dev,doc,nls||deps:yes
yes|desktop-file-utils|desktop-file-utils|exe,dev,doc,nls||deps:yes
yes|dialog|dialog|exe,dev>null,doc,nls||deps:yes
no|dkms|dkms|exe,dev>exe,doc,nls||deps:yes
yes|dosfstools|dosfstools|exe,dev>null,doc,nls||deps:yes
yes|erofs-utils|erofs-utils|exe,dev,doc,nls||deps:yes
yes|exfatprogs|exfatprogs|exe,dev,doc,nls||deps:yes
yes|f2fs-tools|f2fs-tools|exe,dev,doc,nls||deps:yes
yes|gettext-base|gettext-base|exe,dev,doc,nls||deps:yes
yes|hostname|hostname|exe,dev,doc,nls||deps:yes
yes|iproute2|iproute2|exe,dev,doc,nls||deps:yes
yes|locales|locales|exe,dev,doc,nls>exe||deps:yes
yes|kmod|kmod|exe,dev,doc,nls||deps:yes
yes|l3afpad|l3afpad|exe,dev,doc,nls||deps:yes
yes|less|less|exe,dev>null,doc,nls||deps:yes
yes|libc6-dev|libc6-dev|exe,dev,doc,nls||deps:yes
yes|libargon2-dev|libargon2-dev|exe,dev,doc,nls||deps:yes # needed by pfscrypt
yes|libfreetype-dev|libfreetype-dev|exe,dev,doc,nls||deps:yes
yes|libglib2.0-dev|libglib2.0-dev|exe,dev,doc,nls||deps:yes
yes|libgtk-3-dev|libgtk-3-dev|exe,dev,doc,nls||deps:yes
yes|libgtk-layer-shell|libgtk-layer-shell-dev|exe,dev,doc,nls||deps:yes
yes|libjpeg62-turbo-dev|libjpeg62-turbo-dev|exe,dev,doc,nls||deps:yes
yes|libnss-myhostname|libnss-myhostname|exe,dev,doc,nls||deps:yes
yes|libpam|libpam0g-dev|exe,dev,doc,nls||deps:yes
yes|librsvg2-bin|librsvg2-bin|exe,dev,doc,nls||deps:yes
yes|libssl-dev|libssl-dev|exe,dev,doc,nls||deps:yes
yes|libxxhash-dev|libxxhash-dev|exe,dev,doc,nls||deps:yes # needed by pup_advert_blocker
yes|nftables|nftables|exe,dev,doc,nls||deps:yes # needed by firewall_ng
yes|parted|parted|exe,dev,doc,nls||deps:yes
yes|pavucontrol|pavucontrol|exe,dev,doc,nls||deps:yes
yes|pipewire|pipewire-pulse,pipewire-alsa,libspa-0.2-bluetooth,libpipewire-0.3-dev|exe,dev,doc,nls||deps:yes
yes|pigz|pigz|exe,dev,doc,nls||deps:yes
yes|procps|procps|exe,dev,doc,nls||deps:yes
yes|psmisc|psmisc|exe,dev>null,doc,nls||deps:yes
yes|udev|udev|exe,dev,doc,nls||deps:yes
yes|vim-tiny|vim-tiny|exe,dev,doc,nls||deps:yes
yes|wireless-regdb|wireless-regdb|exe,dev,doc,nls||deps:yes
yes|wireplumber|wireplumber|exe,dev,doc,nls||deps:yes
yes|wpa_supplicant|wpasupplicant|exe,dev>null,doc,nls||deps:yes
yes|xdg-utils|xdg-utils,libfile-mimeinfo-perl|exe,dev,doc,nls||deps:yes
yes|xz|xz-utils,liblzma-dev|exe,dev,doc,nls||deps:yes
yes|zstd|zstd|exe,dev,doc,nls||deps:yes
'

# hack: we need DISTRO_TARGETARCH but PPM needs to be able to source this file
if [ -f DISTRO_SPECS ]; then
    . ./DISTRO_SPECS
else
    . /etc/DISTRO_SPECS
fi

PKGS_SPECS_TABLE="$PKGS_SPECS_TABLE
yes|brightnessctl|brightnessctl|exe,dev,doc,nls||deps:yes
yes|grim|grim|exe,dev,doc,nls||deps:yes
yes|gsimplecal|gsimplecal|exe,dev,doc,nls||deps:yes
yes|kanshi|kanshi|exe,dev,doc,nls||deps:yes
yes|scdoc|scdoc|exe>dev,dev,doc>dev,nls>dev||deps:yes
yes|seatd|seatd|exe,dev,doc,nls||deps:yes
yes|slurp|slurp|exe,dev,doc,nls||deps:yes
no|swayidle|swayidle|exe,dev,doc,nls||deps:yes # using swayidle petbuild without logind support
no|swaylock|swaylock|exe,dev,doc,nls||deps: yes # using swaylock petbuild with root patch
yes|wdisplays|wdisplays|exe,dev,doc,nls||deps:yes
yes|wlopm|wlopm|exe,dev,doc,nls||deps:yes
yes|wlr-randr|wlr-randr|exe,dev,doc,nls||deps:yes
yes|xdg-desktop-portal-gtk|xdg-desktop-portal-gtk|exe,dev,doc,nls||deps:yes
yes|xdg-desktop-portal-wlr|xdg-desktop-portal-wlr|exe,dev,doc,nls||deps:yes
yes|xwayland|xwayland,xauth|exe,dev>exe,doc,nls||deps:yes
"

if [ "$DISTRO_VARIANT" = "dwl" ]; then
    PKGS_SPECS_TABLE="$PKGS_SPECS_TABLE
yes|foot|foot|exe,dev,doc,nls||deps:yes
yes|tofi|tofi|exe,dev,doc,nls||deps:yes
yes|wlroots|libwlroots-dev|exe,dev,doc,nls||deps:yes
yes|yambar|yambar,fonts-font-awesome|exe,dev,doc,nls||deps:yes
"
else
    PKGS_SPECS_TABLE="$PKGS_SPECS_TABLE
yes|labwc|labwc|exe,dev,doc,nls||deps:yes
yes|libgnome-menu|libgnome-menu-3-dev|exe,dev,doc,nls||deps:yes # dependency of xdg-puppy-labwc
yes|libinput-dev|libinput-dev|exe,dev,doc,nls||deps:yes # dependency of labwc-puppy
yes|lxterminal|lxterminal|exe,dev,doc,nls||deps:yes
yes|swaybg|swaybg|exe,dev,doc,nls||deps:yes
yes|waybar|waybar,fonts-font-awesome|exe,dev,doc,nls||deps:yes
"
fi

if [ "$DISTRO_VARIANT" != "barebones" ]; then
	PKGS_SPECS_TABLE="$PKGS_SPECS_TABLE
yes|alsa-utils|alsa-utils|exe,dev,doc,nls||deps:yes
yes|bash-completion|bash-completion|exe,dev>null,doc,nls||deps:yes
yes|blueman|blueman|exe,dev,doc,nls||deps:yes
yes|command-not-found|command-not-found|exe,dev,doc,nls||deps:yes
yes|cups|cups,cups-bsd,printer-driver-cups-pdf,foomatic-db-compressed-ppds,libcups2-dev|exe,dev,doc,nls||deps:yes
yes|deadbeef-deps|libjansson-dev,libmpg123-dev,libcddb2-dev,libcdio-paranoia-dev,libfaad-dev|exe,dev,doc,nls||deps:yes
yes|epdfview-deps|libpoppler-glib-dev|exe,dev,doc,nls||deps:yes
yes|efibootmgr|efibootmgr|exe,dev,doc,nls||deps:yes
yes|ExpenseTracker-deps|libsqlite3-dev|exe,dev,doc,nls||deps:yes
yes|firefox-esr|firefox-esr,firefox-esr-l10n-all|exe,dev,doc,nls||deps:yes
yes|flatpak|flatpak|exe,dev,doc,nls||deps:yes
yes|fonts-liberation|fonts-liberation|exe,dev,doc,nls||deps:yes
yes|fonts-noto|fonts-noto-core,fonts-noto-mono,fonts-noto-cjk,fonts-noto-color-emoji|exe,dev,doc,nls||deps:yes
yes|fwupd|fwupd|exe,dev,doc,nls||deps:yes
yes|galculator|galculator|exe,dev>null,doc,nls||deps:yes
yes|gdmap|gdmap|exe,dev,doc,nls||deps:yes
yes|geany|geany|exe,dev,doc,nls||deps:yes
yes|gnome-software|gnome-software,gnome-software-plugin-flatpak|exe,dev,doc,nls||deps:yes
yes|gparted|gparted|exe,dev,doc,nls||deps:yes
yes|gtkhash|gtkhash|exe,dev,doc,nls||deps:yes
yes|hardinfo-deps|libjson-glib-dev|exe,dev,doc,nls||deps:yes
yes|libcurl4-gnutls-dev|libcurl4-gnutls-dev|exe,dev,doc,nls||deps:yes # dependency of gplaces
yes|libfuse2t64|libfuse2t64|exe,dev,doc,nls||deps:yes # used by AppImages
yes|libglib2.0-dev-bin|libglib2.0-dev-bin|exe,dev,doc,nls||deps:yes # dependency of notification-daemon-stub
yes|libidn2-dev|libidn2-dev|exe,dev,doc,nls||deps:yes # dependency of gplaces
yes|libva|vainfo,va-driver-all|exe,dev,doc,nls||deps:yes
yes|libmagic-dev|libmagic-dev|exe,dev,doc,nls||deps:yes # dependency of gplaces
yes|libxml2-dev|libxml2-dev|exe,dev,doc,nls||deps:yes # dependency of fpm2
yes|lxtask|lxtask|exe,dev,doc,nls||deps:yes
yes|man-db|man-db|exe,dev,doc,nls||deps:yes
yes|mesa-vulkan-drivers|mesa-vulkan-drivers|exe,dev,doc,nls||deps:yes
yes|mpv|mpv|exe,dev,doc,nls||deps:yes
yes|netpbm|netpbm|exe,dev,doc,nls||deps:yes # dependency of wl_colpick
yes|nettle-dev|nettle-dev|exe,dev,doc,nls||deps:yes # dependency of fpm2
yes|nscd|unscd|exe||deps:yes
yes|putty|putty|exe,dev,doc,nls||deps:yes
yes|transmission-gtk|transmission-gtk|exe,dev,doc,nls||deps:yes
yes|viewnior|viewnior|exe,dev,doc,nls||deps:yes
yes|weechat|weechat,weechat-curses,weechat-headless|exe,dev,doc,nls||deps:yes
yes|wf-recorder|wf-recorder|exe,dev,doc,nls||deps:yes
yes|xarchiver|xarchiver|exe,dev,doc,nls||deps:yes
yes|xournalpp|xournalpp|exe,dev,doc,nls||deps:yes
"
fi

if [ "$DISTRO_VARIANT" != "dwl" -a "$DISTRO_VARIANT" != "barebones" ]; then
PKGS_SPECS_TABLE="$PKGS_SPECS_TABLE
yes|abiword|abiword|exe,dev,doc,nls||deps:yes
yes|gnome-mahjongg|gnome-mahjongg|exe,dev,doc,nls||deps:yes
yes|gnumeric|gnumeric|exe,dev,doc,nls||deps:yes
yes|nethack-console|nethack-console|exe,dev,doc,nls||deps:yes
"
fi

PKGS_SPECS_TABLE="$PKGS_SPECS_TABLE
yes|autoconf|autoconf|exe>dev,dev,doc>dev,nls>dev||deps:yes
yes|automake|automake,autotools-dev|exe>dev,dev,doc>dev,nls>dev||deps:yes
yes|autopoint|autopoint|exe>dev,dev,doc>dev,nls>dev||deps:yes
yes|binutils|binutils|exe>dev,dev,doc>dev,nls>dev||deps:yes
yes|bison|bison|exe>dev,dev,doc>dev,nls>dev||deps:yes
yes|ccache|ccache|exe>dev,dev,doc>dev,nls>dev||deps:yes
yes|cmake|cmake|exe>dev,dev,doc>dev,nls>dev||deps:yes # build-time dependency of hardinfo
yes|dwarves|dwarves|exe>dev,dev,doc>dev,nls>dev||deps:yes # kernel-kit
yes|flex|flex|exe>dev,dev,doc>dev,nls>dev||deps:yes
yes|g++|g++|exe>dev,dev,doc>dev,nls>dev||deps:yes
yes|gcc|gcc|exe>dev,dev,doc>dev,nls>dev||deps:yes
yes|gettext|gettext|exe>dev,dev,doc>dev,nls>dev||deps:yes
yes|git|git|exe>dev,dev,doc>dev,nls>dev||deps:yes
yes|intltool|intltool|exe>dev,dev,doc>dev,nls>dev||deps:yes
yes|libelf-dev|libelf-dev|exe>dev,dev,doc>dev,nls>dev||deps:yes # kernel-kit
yes|libtool|libtool,libtool-bin|exe>dev,dev,doc>dev,nls>dev||deps:yes
yes|linux-header|linux-libc-dev|exe>dev,dev,doc>dev,nls>dev||deps:yes
yes|linux-source|linux-source|exe>dev,dev,doc>dev,nls>dev||deps:yes # kernel-kit
yes|m4|m4|exe>dev,dev,doc>dev,nls>dev||deps:yes
yes|make|make|exe>dev,dev,doc>dev,nls>dev||deps:yes
yes|meson|meson|exe>dev,dev,doc>dev,nls>dev||deps:yes
yes|ninja-build|ninja-build|exe>dev,dev,doc>dev,nls>dev||deps:yes
yes|patch|patch|exe>dev,dev,doc>dev,nls>dev||deps:yes
yes|pkgconf|pkgconf|exe>dev,dev||deps:yes
yes|unzip|unzip|exe>dev,dev,doc>dev,nls>dev||deps:yes
yes|wayland-dev|libwayland-dev,wayland-protocols,libwayland-bin|exe>dev,dev,doc>dev,nls>dev||deps:yes
"

if [ "$DISTRO_TARGETARCH" = "x86_64" ]; then
    PKGS_SPECS_TABLE="$PKGS_SPECS_TABLE
yes|gnu-efi|gnu-efi|exe>dev,dev,doc>dev,nls>dev||deps:yes
yes|syslinux|syslinux|exe,dev,doc,nls||deps:yes
yes|linux-image-amd64|linux-image-amd64|exe>dev,dev,doc>dev,nls>dev||deps:yes # kernel-kit
"
elif [ "$DISTRO_TARGETARCH" = "x86" ]; then
    PKGS_SPECS_TABLE="$PKGS_SPECS_TABLE
yes|linux-image-686-pae|linux-image-686-pae|exe>dev,dev,doc>dev,nls>dev||deps:yes # kernel-kit
yes|syslinux|syslinux|exe,dev,doc,nls||deps:yes
"
elif [ "$DISTRO_TARGETARCH" = "arm64" ]; then
    PKGS_SPECS_TABLE="$PKGS_SPECS_TABLE
yes|linux-image-arm64|linux-image-arm64|exe>dev,dev,doc>dev,nls>dev||deps:yes # kernel-kit
"
fi

if [ "$DISTRO_TARGETARCH" = "x86" -o "$DISTRO_TARGETARCH" = "x86_64" ]; then
    PKGS_SPECS_TABLE="$PKGS_SPECS_TABLE
yes|non-free-firmware-pc|amd64-microcode,bluez-firmware,firmware-amd-graphics,firmware-atheros,firmware-brcm80211,firmware-intel-sound,firmware-iwlwifi,firmware-linux,firmware-linux-nonfree,firmware-realtek,firmware-sof-signed,intel-microcode|exe,dev,doc,nls||deps:yes # based on live-task-non-free-firmware-pc
"
elif [ "$DISTRO_TARGETARCH" = "arm64" ]; then
    PKGS_SPECS_TABLE="$PKGS_SPECS_TABLE
yes|non-free-firmware-pc|bluez-firmware,firmware-atheros,firmware-brcm80211,firmware-linux,firmware-linux-nonfree,firmware-realtek|exe,dev,doc,nls||deps:yes
"
fi
